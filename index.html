<script>
  let provider;
  let signer;
  let contract;

  const contractAddress = "YOUR_CONTRACT_ADDRESS_HERE"; // Replace after deploy
  const contractABI = [
    {
      "inputs": [],
      "name": "claimAirdrop",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ];

  async function connectWallet() {
    if (window.ethereum) {
      provider = new ethers.BrowserProvider(window.ethereum);
      await provider.send("eth_requestAccounts", []);
      signer = await provider.getSigner();
      const address = await signer.getAddress();
      document.getElementById("walletAddressDisplay").innerText = `Connected: ${address}`;
      contract = new ethers.Contract(contractAddress, contractABI, signer);
    } else {
      alert("MetaMask not detected");
    }
  }

  async function claimAirdrop() {
    try {
      const tx = await contract.claimAirdrop();
      document.getElementById("airdropStatus").innerText = "⏳ Claiming in progress...";
      await tx.wait();
      document.getElementById("airdropStatus").innerText = "✅ Airdrop successful! Check your wallet.";
    } catch (err) {
      console.error("Error:", err);
      document.getElementById("airdropStatus").innerText = "❌ Airdrop failed. You may have already claimed or not connected properly.";
    }
  }
</script>
